<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <title>Swift基础语法 - 我是wiki</title>
        <meta name="keywords" content="wiki"/>
        <meta name="description" content="真的是要气死我了"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Swift">Swift</a>&nbsp;»&nbsp;Swift基础语法</div>
</div>
<div class="clearfix"></div>
<div id="title">Swift基础语法</div>
  <div id="content">
  <h1 id="_1">变量和常量</h1>
<div class="hlcode"><pre><span class="c1">// 不用写分号</span>
<span class="c1">// 一般首选 let</span>
<span class="c1">// 变量</span>
<span class="k">var</span> <span class="n">num1</span> <span class="o">=</span> <span class="mh">10</span>

<span class="c1">// 常量</span>
<span class="k">let</span> <span class="n">dou1</span> <span class="o">=</span> <span class="mf">10.8</span>

<span class="c1">// 计算必须类型相同，没有隐式转换</span>
<span class="k">var</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">Double</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span> <span class="o">+</span> <span class="n">dou1</span>
</pre></div>


<h1 id="_2">逻辑判断</h1>
<h2 id="if">if</h2>
<div class="hlcode"><pre><span class="c1">// 逻辑判断 ---- if  1.没有（）2.必须有{} 3.只有 true/false（没有非零即空）</span>
<span class="k">if</span> <span class="n">num1</span> <span class="o">&gt;=</span> <span class="mh">10</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;大于等于10&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<h2 id="_3">三目运算</h2>
<div class="hlcode"><pre><span class="c1">// 三目</span>
<span class="k">let</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Double</span><span class="p">(</span><span class="n">num1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">dou1</span> <span class="o">?</span> <span class="mh">10</span> <span class="o">:</span> <span class="n">dou1</span>
</pre></div>


<h2 id="switch">switch</h2>
<div class="hlcode"><pre><span class="cm">/**</span>
<span class="cm">1. 值可以是任何类型</span>
<span class="cm">2. 作用域，仅在 case 内部有效</span>
<span class="cm">3. 不需要 break</span>
<span class="cm">4. 每一个 case 都需要有代码</span>
<span class="cm">*/</span>

<span class="k">let</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;小胡&quot;</span>
<span class="n">switch</span> <span class="n">name</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s">&quot;老王&quot;</span><span class="o">:</span>
        <span class="k">let</span> <span class="n">age</span> <span class="o">=</span> <span class="mh">80</span>
        <span class="n">print</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
    <span class="k">case</span> <span class="s">&quot;老了&quot;</span><span class="p">,</span> <span class="s">&quot;理发&quot;</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="s">&quot;pengyou&quot;</span><span class="p">)</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="n">print</span><span class="p">(</span><span class="s">&quot;out&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<h2 id="_4">循环</h2>
<div class="hlcode"><pre><span class="c1">// 0~9</span>
<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="mh">0</span> <span class="p">..</span><span class="o">&lt;</span> <span class="mh">10</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 0~10</span>
<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="mh">0</span> <span class="p">...</span> <span class="mh">10</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Range&lt;Int&gt; 范围</span>
<span class="k">let</span> <span class="n">range</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">.</span><span class="o">&lt;</span><span class="mh">10</span>
</pre></div>


<h2 id="_5">数组</h2>
<div class="hlcode"><pre><span class="c1">// 使用‘[]’ 创建数组</span>
<span class="c1">// [String] 表示存放字符串的数组</span>
<span class="k">let</span> <span class="n">array</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;重视&quot;</span><span class="p">,</span><span class="s">&quot;好&quot;</span><span class="p">]</span>

<span class="c1">// Swift中可以直接存放数字，不需要包装</span>
<span class="c1">// 如果数组中存在的数据类型不一致，自动推导的格式是【NSObject】</span>
<span class="k">let</span> <span class="n">arr1</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;huhuhu&quot;</span><span class="p">,</span> <span class="mh">67</span><span class="p">,</span> <span class="n">array</span><span class="p">]</span>

<span class="c1">// 遍历数组</span>
<span class="k">for</span> <span class="n">name</span> <span class="n">in</span> <span class="n">array</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 可变数组 var &amp; 不可变数组  let</span>

<span class="c1">// 数组添加</span>
<span class="k">var</span> <span class="n">arr2</span> <span class="o">=</span> <span class="n">array</span><span class="p">;</span>
<span class="n">arr2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;效果&quot;</span><span class="p">)</span>
<span class="c1">// 删除</span>
<span class="k">let</span> <span class="n">strii</span> <span class="o">=</span> <span class="n">arr2</span><span class="p">.</span><span class="n">removeFirst</span><span class="p">()</span>
<span class="n">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>

<span class="c1">// 数组容量</span>
<span class="n">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">.</span><span class="n">capacity</span><span class="p">)</span>

<span class="n">arr2</span><span class="p">.</span><span class="n">removeAll</span><span class="p">(</span><span class="nl">keepCapacity:</span> <span class="n">true</span><span class="p">)</span>


<span class="c1">// 添加数据 ---- 追加元素  ----- 跟踪变化</span>
<span class="k">var</span> <span class="n">arr3</span> <span class="o">=</span> <span class="p">[</span><span class="n">String</span><span class="p">]()</span>
<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="mf">0.</span><span class="p">.</span><span class="o">&lt;</span><span class="mh">10</span> <span class="p">{</span>
    <span class="n">arr3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;\(i)&quot;</span><span class="p">)</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;索引：\(i)  数组容量：\(arr3.capacity)&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 跟踪发现，如果数组容量不足，在原来的基础上 X2</span>

<span class="k">var</span> <span class="nl">arryM1:</span> <span class="p">[</span><span class="n">String</span><span class="p">]</span>  <span class="c1">// 声明一个装字符串的数组，没有实例化</span>
<span class="k">var</span> <span class="n">arryM2</span> <span class="o">=</span> <span class="p">[</span><span class="n">String</span><span class="p">]()</span> <span class="c1">// 实例化</span>

<span class="c1">// 创建数组，并指定容量</span>
<span class="c1">//var arryM = [Int](count:5 repeatValue:0)-- 好像语法变了</span>

<span class="c1">// 数组拼接  注意数组中的类型必须相同</span>
<span class="k">var</span> <span class="n">arry1</span> <span class="o">=</span> <span class="p">[</span><span class="mh">1</span><span class="p">,</span><span class="mh">2</span><span class="p">,</span><span class="mh">3</span><span class="p">,</span><span class="mh">4</span><span class="p">]</span>
<span class="k">var</span> <span class="n">arry2</span> <span class="o">=</span> <span class="p">[</span><span class="mh">5</span><span class="p">,</span><span class="mh">6</span><span class="p">,</span><span class="mh">7</span><span class="p">,</span><span class="mh">8</span><span class="p">]</span>

<span class="n">arry1</span> <span class="o">+=</span> <span class="n">arry2</span>
</pre></div>


<h2 id="_6">字典</h2>
<div class="hlcode"><pre><span class="c1">// 定义字典 也是 [String: NSObject] [key: value]</span>
<span class="c1">// key 同常是字符串  value可以是任意类型</span>
<span class="k">var</span> <span class="n">dict</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;name&quot;</span><span class="o">:</span> <span class="s">&quot;傅饶&quot;</span><span class="p">,</span> <span class="s">&quot;age&quot;</span><span class="o">:</span> <span class="mh">23</span><span class="p">]</span>

<span class="c1">// let 不可变 &amp; var 可变</span>
<span class="c1">// 给字典赋值，直接用[&quot;key&quot;] = value</span>
<span class="n">dict</span><span class="p">[</span><span class="s">&quot;height&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.78</span>
<span class="n">dict</span>

<span class="c1">// 给字典设置数值的时候，如果 key 存在，值会被修改</span>
<span class="n">dict</span><span class="p">[</span><span class="s">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;小组&quot;</span>
<span class="n">dict</span>

<span class="c1">// 字典遍历</span>
<span class="c1">// k, v 是随便写，前面是 key ,后面是 value</span>
<span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="n">in</span> <span class="n">dict</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;ley:\(k)   value:\(v)&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 合并</span>
<span class="k">let</span> <span class="n">dict2</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;title&quot;</span><span class="o">:</span> <span class="s">&quot;老板&quot;</span><span class="p">,</span> <span class="s">&quot;name&quot;</span><span class="o">:</span> <span class="s">&quot;老王&quot;</span><span class="p">]</span>

<span class="c1">// 遍历dict2</span>
<span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="n">in</span> <span class="n">dict2</span> <span class="p">{</span>
    <span class="n">dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h2 id="_7">函数</h2>
<div class="hlcode"><pre><span class="c1">// 定义个函数</span>
<span class="c1">// 格式： func 函数名（形式参数列表）-&gt; 返回类型 {// 代码实现}</span>
<span class="n">func</span> <span class="n">sum</span><span class="p">(</span><span class="nl">x:</span> <span class="n">Int</span><span class="p">,</span> <span class="nl">y:</span> <span class="n">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="p">}</span>

<span class="c1">// 函数调用 函数名（值1，参数名：值2）</span>
<span class="n">sum</span><span class="p">(</span><span class="mh">10</span><span class="p">,</span> <span class="nl">y:</span> <span class="mh">22</span><span class="p">)</span>

<span class="c1">// 外部参数 num1 ,num2 是供外部调用的程序员参考的，是保证函数的语义更加清晰</span>
<span class="c1">// 内部参数 x,y 数据函数内部使用</span>
<span class="n">func</span> <span class="n">sum1</span> <span class="p">(</span><span class="n">num1</span> <span class="nl">x:</span> <span class="n">Int</span><span class="p">,</span> <span class="n">num2</span> <span class="nl">y:</span> <span class="n">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="p">}</span>
<span class="n">sum1</span><span class="p">(</span><span class="nl">num1:</span> <span class="mh">18</span><span class="p">,</span> <span class="nl">num2:</span> <span class="mh">88</span><span class="p">)</span>

<span class="c1">// 没有返回值，有三种写法</span>
<span class="c1">// 1.直接省略</span>
<span class="n">func</span> <span class="n">demo1</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;hehe&quot;</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 2.-&gt; Void</span>
<span class="n">func</span> <span class="n">demo2</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Void</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;haha&quot;</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 3.-&gt; ()</span>
<span class="n">func</span> <span class="n">demo3</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;xixi&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<h2 id="_8">闭包</h2>
<div class="hlcode"><pre><span class="c1">// 可以暂时理解成 OC 中的 Block</span>
<span class="cm">/*</span>
<span class="cm">    1. 预先准备好代码</span>
<span class="cm">    2.可以作为参数传递</span>
<span class="cm">    3.在需要的时候执行</span>
<span class="cm"> */</span>


<span class="c1">// 定义个函数</span>
<span class="n">func</span> <span class="n">sum</span> <span class="p">(</span><span class="n">num1</span> <span class="nl">x:</span> <span class="n">Int</span><span class="p">,</span> <span class="n">num2</span> <span class="nl">y:</span> <span class="n">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="p">}</span>

<span class="k">let</span> <span class="n">demoFunc</span> <span class="o">=</span> <span class="n">sum</span>
<span class="n">demoFunc</span><span class="p">(</span><span class="nl">num1:</span> <span class="mh">1</span><span class="p">,</span> <span class="nl">num2:</span> <span class="mh">3</span><span class="p">)</span>

<span class="c1">// 闭包定义</span>
<span class="cm">/*  </span>
<span class="cm">    1. 行参，返回值，代码都包含在{}中</span>
<span class="cm"> */</span>

<span class="c1">// 最简单的闭包 ，如果没有参数/返回值 统统（包括 in）都可以省略</span>
<span class="k">let</span> <span class="n">funcDemo1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;我是最简单的闭包&quot;</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// 执行闭包</span>
<span class="n">funcDemo1</span><span class="p">()</span>

<span class="c1">// in 就是区分函数定义和代码实现的</span>
<span class="c1">// 格式：{（带外部参数的形参列表）-&gt; 返回值 in 代码实现}</span>
<span class="k">let</span> <span class="n">funcDemo2</span> <span class="o">=</span> <span class="p">{</span> <span class="p">(</span><span class="nl">x:</span> <span class="n">Int</span><span class="p">,</span> <span class="nl">y:</span> <span class="n">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="n">in</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="p">}</span>
</pre></div>


<h2 id="string">String</h2>
<div class="hlcode"><pre><span class="cm">/**</span>
<span class="cm">    String 结构体，效率高，一般采用String</span>
<span class="cm">    NString 继承NSObject</span>
<span class="cm"> */</span>
<span class="k">var</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&quot;Hello, playground&quot;</span>

<span class="c1">// String 支持遍历</span>
<span class="k">for</span> <span class="n">c</span> <span class="n">in</span> <span class="n">str</span><span class="p">.</span><span class="n">characters</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 字符串拼接</span>
<span class="k">let</span> <span class="nl">name:</span> <span class="n">String</span><span class="o">?</span> <span class="o">=</span> <span class="s">&quot;xiaohong&quot;</span>
<span class="k">let</span> <span class="n">age</span> <span class="o">=</span> <span class="mh">10</span>
<span class="k">let</span> <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;你是我的&quot;</span>
<span class="k">let</span> <span class="n">rect</span> <span class="o">=</span> <span class="n">CGRect</span><span class="p">(</span><span class="nl">x:</span> <span class="mh">0</span><span class="p">,</span> <span class="nl">y:</span> <span class="mh">0</span><span class="p">,</span> <span class="nl">width:</span> <span class="mh">100</span><span class="p">,</span> <span class="nl">height:</span> <span class="mh">100</span><span class="p">)</span>

<span class="n">print</span><span class="p">(</span><span class="n">name</span> <span class="o">??</span> <span class="s">&quot;&quot;</span> <span class="o">+</span> <span class="n">String</span><span class="p">(</span><span class="n">age</span><span class="p">)</span> <span class="o">+</span> <span class="n">title</span><span class="p">)</span>

<span class="c1">// \(变量名) 就会自动转换拼接</span>
<span class="c1">// 如果是可选的转换，会带上 ‘Optional&#39; ,提示开发人员，只是可选的</span>
<span class="c1">// 拼接字符串有一个小陷阱 ？(界面问题，会带上Optional)</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot;\(name) \(age) \(title) \(rect)&quot;</span><span class="p">)</span>

<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="mh">7</span><span class="p">;</span>
<span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="mh">8</span><span class="p">;</span>
<span class="k">let</span> <span class="n">s</span> <span class="o">=</span> <span class="mh">4</span><span class="p">;</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot;\(h):\(m):\(s)&quot;</span><span class="p">)</span>

<span class="k">let</span> <span class="n">str1</span> <span class="o">=</span> <span class="n">String</span><span class="p">(</span><span class="nl">format:</span> <span class="s">&quot;%02d:%02d:%02d&quot;</span><span class="p">,</span> <span class="nl">arguments:</span> <span class="p">[</span><span class="n">h</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">s</span><span class="p">])</span>

<span class="c1">//Range 在Swift变迁中变化非常大</span>
<span class="c1">// 截取字符串 Swift遇到Range 最好把String 转成 NSString </span>
<span class="p">(</span><span class="n">str</span> <span class="n">as</span> <span class="n">NSString</span><span class="p">).</span><span class="n">substringWithRange</span><span class="p">(</span><span class="n">NSMakeRange</span><span class="p">(</span><span class="mh">2</span><span class="p">,</span> <span class="mh">4</span><span class="p">))</span>
<span class="c1">// &quot;rrrrr&quot;.endIndex 表示&quot;rrrrr&quot;的最后一个索引</span>
<span class="n">str</span><span class="p">.</span><span class="n">substringFromIndex</span><span class="p">(</span><span class="s">&quot;rrrrr&quot;</span><span class="p">.</span><span class="n">endIndex</span><span class="p">)</span>
</pre></div>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2016 大白菜.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>